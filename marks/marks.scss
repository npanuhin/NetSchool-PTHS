@import '../src/styles/main';

$details-shadow: 5px 5px 10px 5px rgba(0, 0, 0, 0.1);
$details-expired-shadow: 5px 5px 10px 5px rgba(255, 0, 0, 0.1);
$mark-expired-color: rgba(255, 0, 0, 0.1);

main {
	position: relative;
	margin: 120px auto 100px auto;
	// left: 50%;
	// transform: translateX(-50%);
	width: $main-width;
	max-width: 95%;


	.marks {
		position: relative;
		padding: 40px 32px 50px 32px;
		top: 30px;
		box-sizing: border-box;
		width: 100%;
		margin: 0 auto;
		z-index: 10;

		background: $block-color;

		box-shadow: $details-shadow;
		border-radius: 30px;

		transition: 0.3s transform ease-in-out;

		h3 {
			font-family: Manrope;
			font-style: normal;
			font-weight: 600;
			font-size: 36px;
			text-align: center;
			margin-bottom: 25px;

			color: $text-color;
		}

		& > p {
			font-family: Manrope;
			font-style: normal;
			font-weight: normal;
			font-size: 18px;
			text-align: center;
			padding-top: 15px;

			color: $text-color;
		}

		& > div {

			display: grid;
			grid-template-rows: 1fr;
			grid-template-columns: auto auto auto;

			& > ul li {
				font-family: Manrope;
				font-style: normal;
				font-weight: 500;
				font-size: 20px;
				line-height: 28px;

				color: $text-color;

				white-space: nowrap;

				padding: 6px 12px;
				height: 28px;

				&:nth-child(2) {
					height: 58px;
				}
			}

			& > ul:first-child {
				position: relative;

				li {
					padding-right: 20px;
					border-bottom-left-radius: 8px;
					border-top-left-radius: 8px;
				}

				&.shadow {
					// TODO
				}
			}
			& > ul:last-child {
				position: relative;
				left: -1px;
				width: calc(100% + 1px);

				li {
					padding-left: 15px;
					border-bottom-right-radius: 8px;
					border-top-right-radius: 8px;
				}

				&.shadow {
					// TODO
				}
			}

			table {
				position: relative;
				display: block;
				overflow-x: scroll;
				overflow-y: hidden;

				// border-collapse: collapse;
				border-spacing: 0;

				tr {
					height: 30px;

					th {
						font-family: Manrope;
						font-style: normal;
						font-weight: 500;
						font-size: 20px;
						line-height: 28px;

						color: $text-color;

						white-space: nowrap;

						padding: 0px 10px;
					}

					&:nth-child(1) {
						height: 40px;

						td {
							position: relative;
							padding: 4px 30px;

							overflow: hidden;

							span {
								position: relative;
								font-family: Manrope;
								font-style: normal;
								font-weight: 500;
								font-size: 20px;
								line-height: 28px;

								white-space: nowrap;

								background: $block-color;
								color: $text-color;

								padding: 0 8px;
							}
							
							&::before {
								content: "";
								position: absolute;
								width: calc(100% - 20px);
								left: 10px;
								height: 100px;
								top: 50%;
								border-top: 1px solid $text-color;
								border-left: 1px solid $text-color;
								border-right: 1px solid $text-color;
								border-radius: 20px;
							}
						}
					}

					&:nth-child(2) {
						height: 70px;

						td {

							font-family: Manrope;
							font-style: normal;
							font-weight: 500;
							font-size: 20px;
							line-height: 28px;

							color: $text-color;

							white-space: nowrap;

							padding: 4px 20px;
						}
					}

					td {
						position: relative;
						white-space: nowrap;
						text-align: center;
						box-sizing: border-box;
						height: 40px;

						padding: 0 6px;

						& > div {
							font-size: 0;
							position: relative;
							// width: 62%;
							height: 100%;

							// padding: 0 0px;

							left: 50%;
							transform: translateX(-50%);
							text-align: center;

							span {
								display: inline-block;
								position: relative;
								top: 50%;
								transform: translateY(-50%);
								padding: 6px 10px;
								height: 100%;
								// height: 100%;
								box-sizing: border-box;

								font-family: Manrope;
								font-style: normal;
								font-weight: 500;
								font-size: 20px;
								line-height: 28px;

								color: $text-color;

								white-space: nowrap;
								cursor: pointer;

								&:first-child {
									padding-left: 17px;
								}

								&:last-child {
									padding-right: 17px;
								}

								&.high {
									color: $orange-color;
								}

								&.expired {
									color: #f00;
								}

								div {
									display: none;
								}
							}
						}

						&.filled > div::before {
							content: "";
							position: absolute;
							box-sizing: border-box;
							width: 100%;
							height: 100%;
							top: 0;
							left: 0;
							border: 1px solid $text-color;
							border-radius: 2px;
						}

						&.expired > div::before {
							border-color: #f00;
							background-color: $mark-expired-color;
						}

						&.selected > div::before {
							border-width: 2px;
							border-color: $orange-color;
							// background-color: rgba(255, 137, 12, 0.1);
						}
					}
				}
			}

			ul li:nth-child(2n + 3), table tr:nth-child(2n + 3) {
				background: #C9DDF0;
			}
		}

		#scroll_left, #scroll_right {
			position: relative;

			svg {
				position: absolute;
				top: 50%;
				height: 100%;
				box-sizing: border-box;
				padding: 19px 15px 19px 30px;

				cursor: pointer;
				transition: 0.1s transform ease-in-out, 0.1s padding ease-in-out;

				path {
					fill: $text-color;
				}

				&:hover {
					padding-right: 20px;
				}
			}
		}

		#scroll_left {
			svg {
				right: 0;
				transform: scale(0.9, 1) translateY(-50%);
			
				&:hover {
					transform: scale(0.9, 1) translateY(-50%);
				}
			}
		}

		#scroll_right {
			svg {
				left: 0;
				transform: scale(-0.9, 1) translateY(-50%);

				&:hover {
					transform: scale(-0.9, 1) translateY(-50%);
				}
			}
		}

		.details, .details h5, .details p {
			font-family: Manrope;
			font-style: normal;
			font-weight: normal;
			font-size: 15px;
			line-height: 25px;
			color: $text-color;
		}

		.details {
			display: block;
			position: fixed;
			top: 0;
			left: 0;
			padding: 15px 20px;
			border-radius: 20px;
			// white-space: nowrap;
			max-width: 100vw;
			max-height: 100vw;
			background-color: #fff;
			box-shadow: $details-shadow;
			color: $text-color;

			visibility: hidden;
			opacity: 0;
			transition: 0.1s opacity ease-in-out, 0s visibility 0.2s;

			line-height: 23px;

			h5 {
				text-align: center;
				width: 100%;
				
				font-weight: 600;
			}

			// h6 {
			// 	text-align: center;
			// 	width: 100%;
			// 	font-size: 12px;
				
			// 	font-weight: 600;
			// }

			p {
				width: 100%;
				text-align: center;

				a {
					color: $orange-color;
				}
			}

			&.shown {
				visibility: visible;
				opacity: 1;
				transition: 0.1s opacity ease-in-out, 0s visibility 0s;
			}

			&.expired {
				box-shadow: $details-expired-shadow;

				h5 {
					color: #f00;
				}
			}
		}
	}
}