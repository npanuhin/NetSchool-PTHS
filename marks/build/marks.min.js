var marks=document.getElementsByClassName("marks")[0],table=marks.getElementsByTagName("table")[0],spans=table.querySelectorAll("tr:not(:nth-child(1)):not(:nth-child(2)) td span"),table_tr=table.getElementsByTagName("tr"),details_block=marks.getElementsByClassName("details")[0],scroll_left_button=document.getElementById("scroll_left"),scroll_right_button=document.getElementById("scroll_right"),table_unlocked=!1,details_lock=!1;function show_details(e,t,l){details_lock||(locate_details(e,t),details_block.innerHTML=l.getElementsByTagName("div")[0].innerHTML,details_block.classList.toggle("expired",l.classList.contains("expired")),details_block.classList.add("shown"))}function locate_details(e,t){details_lock||(details_block.style.top=Math.min((window.pageYOffset||document.scrollTop||0)-(document.clientTop||0)+document.documentElement.clientHeight-details_block.offsetHeight-20,t)-html.scrollTop+20+"px",details_block.style.left=Math.min((window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)+document.documentElement.clientWidth-details_block.offsetWidth-20,e)+20+"px")}function hide_details(){details_lock||details_block.classList.remove("shown")}function toggle_details_lock(e){let t=!0;for(let l of spans)l==e.target&&(details_lock=!1,show_details(e.pageX,e.pageY,l),details_lock=!0,t=!1);t&&!details_block.contains(e.target)&&(details_lock=!1,hide_details())}function onhashchange(){let e=decodeURIComponent(window.location.hash);if(e){let t=document.getElementById(e.slice(1)),l=t.parentElement.parentElement;l.classList.add("selected"),details_lock=!1,show_details(t),function e(){table_unlocked?details_lock=!0:(table.scrollLeft=l.offsetLeft-table.offsetWidth/2+l.offsetWidth/2,locate_details(t.getBoundingClientRect().left+html.scrollLeft+20,t.getBoundingClientRect().top+html.scrollTop+10),requestAnimationFrame(e))}()}else!function e(){table_unlocked||(table.scrollLeft=table.scrollWidth,requestAnimationFrame(e))}()}function ScrollParametricBlend(e){return e*e/(1.85*e*(e-1)+1)}function scroll_table_to(e){let t=45,l=1/t,o=e-table.scrollLeft;!function a(){table.scrollLeft=e-ScrollParametricBlend(t*l)*o,t<=0?scroll_animation=!1:(--t,requestAnimationFrame(a))}()}function scroll_table_by(e){scroll_table_to(table.scrollLeft+e)}Event.add(window,"load",()=>{decodeURIComponent(window.location.hash);decodeURIComponent(window.location.hash)?onhashchange():function e(){table_unlocked||(table.scrollLeft=table.scrollWidth,requestAnimationFrame(e))}(),Event.add(window,"hashchange",onhashchange);for(let e of spans)Event.add(e,"mouseenter",t=>{show_details(t.pageX,t.pageY,e)}),Event.add(e,"mouseleave",()=>{hide_details()}),Event.add(e,"mousemove",e=>{locate_details(e.pageX,e.pageY)});Event.add(window,"mousedown",toggle_details_lock),Event.add(scroll_left_button,"mousedown",()=>{scroll_table_by(-.8*table.offsetWidth)}),Event.add(scroll_right_button,"mousedown",()=>{scroll_table_by(.8*table.offsetWidth)}),setTimeout(()=>{table_unlocked=!0},150)});