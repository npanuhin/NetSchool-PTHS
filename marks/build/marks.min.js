var marks=document.getElementsByClassName("marks")[0],table=marks.getElementsByTagName("table")[0],spans=table.querySelectorAll("tr:not(:nth-child(1)):not(:nth-child(2)) td span"),table_tr=table.getElementsByTagName("tr"),left_column=document.querySelector(".marks > div > ul:first-child"),left_column_li=left_column.getElementsByTagName("li"),right_column=document.querySelector(".marks > div > ul:last-child"),right_column_li=right_column.getElementsByTagName("li"),details_block=marks.getElementsByClassName("details")[0],table_unlocked=!1,details_lock=!1;function show_details(e){details_lock||(details_block.innerHTML=e.getElementsByTagName("div")[0].innerHTML,details_block.classList.toggle("expired",e.classList.contains("expired")),details_block.classList.add("shown"),details_lock=!1)}function locate_details(e,t){details_lock||(details_block.style.top=Math.min((window.pageYOffset||document.scrollTop||0)-(document.clientTop||0)+document.documentElement.clientHeight-details_block.offsetHeight-20,t)-html.scrollTop+20+"px",details_block.style.left=Math.min((window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)+document.documentElement.clientWidth-details_block.offsetWidth-20,e)+20+"px")}function hide_details(){details_lock||details_block.classList.remove("shown")}function toggle_details_lock(e){let t=!0;for(let l of spans)l==e.target&&(details_lock=!1,show_details(l),locate_details(e.pageX,e.pageY),details_lock=!0,t=!1);t&&!details_block.contains(e.target)&&(details_lock=!1,hide_details())}function onhashchange(){let e=decodeURIComponent(window.location.hash);if(e){let t=document.getElementById(e.slice(1)),l=t.parentElement.parentElement;l.classList.add("selected"),details_lock=!1,show_details(t),function e(){table_unlocked?details_lock=!0:(table.scrollLeft=l.offsetLeft-table.offsetWidth/2+l.offsetWidth/2,locate_details(t.getBoundingClientRect().left+html.scrollLeft+20,t.getBoundingClientRect().top+html.scrollTop+10),requestAnimationFrame(e))}()}else!function e(){table_unlocked||(table.scrollLeft=table.scrollWidth,requestAnimationFrame(e))}()}Event.add(window,"load",()=>{decodeURIComponent(window.location.hash);decodeURIComponent(window.location.hash)?onhashchange():function e(){table_unlocked||(table.scrollLeft=table.scrollWidth,requestAnimationFrame(e))}(),Event.add(window,"hashchange",onhashchange);for(let e of spans)Event.add(e,"mouseenter",()=>{show_details(e)}),Event.add(e,"mouseleave",()=>{hide_details()}),Event.add(e,"mousemove",e=>{locate_details(e.pageX,e.pageY)});Event.add(window,"click",toggle_details_lock),setTimeout(()=>{table_unlocked=!0},150)});