var marks=document.getElementsByClassName("marks")[0],table=marks.getElementsByTagName("table")[0],spans=table.querySelectorAll("tr:not(:nth-child(1)):not(:nth-child(2)) td span"),table_tr=table.getElementsByTagName("tr"),left_column=document.querySelector(".marks > div > ul:first-child"),left_column_li=left_column.getElementsByTagName("li"),right_column=document.querySelector(".marks > div > ul:last-child"),right_column_li=right_column.getElementsByTagName("li"),details_block=marks.getElementsByClassName("details")[0],table_unlocked=!1;function show_details(e){let t=e.dataset.name,l=e.dataset.tasktype,a=e.dataset.mark_rate,o=e.dataset.task_expired,s=[];details_block.innerHTML="",t&&(details_block.innerHTML+="<h5>"+t+"</h5>"),l&&s.push("Тип: "+l),a&&s.push("Вес: "+a),details_block.innerHTML+=s.join("<br>"),details_block.classList.toggle("expired",void 0!==o),details_block.classList.add("shown")}function locate_details(e,t){details_block.style.top=Math.min((window.pageYOffset||document.scrollTop||0)-(document.clientTop||0)+document.documentElement.clientHeight-details_block.offsetHeight-20,t)-html.scrollTop+20+"px",details_block.style.left=Math.min((window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)+document.documentElement.clientWidth-details_block.offsetWidth-20,e)+20+"px"}function hide_details(){details_block.classList.remove("shown")}Event.add(window,"load",()=>{let e=decodeURIComponent(window.location.hash);if(e){let t=document.getElementById(e.slice(1)),l=t.parentElement.parentElement;l.classList.add("selected"),show_details(t),function e(){table_unlocked||(table.scrollLeft=l.offsetLeft-table.offsetWidth/2+l.offsetWidth/2,locate_details(t.getBoundingClientRect().left+html.scrollLeft+20,t.getBoundingClientRect().top+html.scrollTop+10),requestAnimationFrame(e))}()}else!function e(){table_unlocked||(table.scrollLeft=table.scrollWidth,requestAnimationFrame(e))}();setTimeout(()=>{table_unlocked=!0},150);for(let e of spans)Event.add(e,"mouseenter",()=>{show_details(e)}),Event.add(e,"mouseleave",()=>{hide_details()}),Event.add(e,"mousemove",e=>{locate_details(e.pageX,e.pageY)})});