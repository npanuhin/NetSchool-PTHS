var form=document.getElementById("login_form"),username_input=document.getElementById("username"),password_input=document.getElementById("password"),message=document.getElementsByClassName("message")[0];Event.add(window,"load",()=>{Event.add(form,"submit",e=>{e.preventDefault(),username_input.classList.remove("invalid"),password_input.classList.remove("invalid");let s=username_input.value.trim(),a=password_input.value.trim();message.classList.add("shown"),ajax("POST","/src/login.php",{username:s,password:a},e=>{"success"==e.responseText?window.location="../":(message.classList.remove("shown"),console.log(e.responseText),r=JSON.parse(e.responseText),"username"==r[0]?(username_input.classList.add("invalid"),username_input.placeholder=r[1],username_input.value=""):"password"==r[0]?(password_input.classList.add("invalid"),password_input.placeholder=r[1],password_input.value=""):"message"==r[0]?(console.log(r),message.getElementsByTagName("p")[0].innerHTML=r[1],message.classList.add("small"),message.classList.add("shown")):alert(e.responseText))},e=>{message.classList.remove("shown"),alert("Error"),alert(e.responseText)})})});