var menu_adjustment_timout,html=document.getElementsByTagName("html")[0],body=document.getElementsByTagName("body")[0],main=document.getElementsByTagName("main")[0],main_bottom_margin=100,menu_button=document.getElementsByClassName("menu_icon_wrapper")[0],dark_mode_button=document.getElementsByClassName("moon_icon_wrapper")[0],logout_button=document.getElementsByClassName("exit_icon")[0],menu=document.getElementsByClassName("menu")[0],tasks_block=document.getElementsByClassName("tasks")?document.getElementsByClassName("tasks")[0]:void 0,marks_block=document.getElementsByClassName("marks")?document.getElementsByClassName("marks")[0]:void 0;timetable_block=document.getElementsByClassName("timetable")?document.getElementsByClassName("timetable")[0]:void 0,announcements_block=document.getElementsByClassName("announcements")?document.getElementsByClassName("announcements")[0]:void 0,message_alerts=document.getElementsByClassName("message_alert"),Event.add(window,"load",()=>{main.style.minHeight=menu.clientHeight+"px",Event.add(menu_button,"mousedown",()=>{html.classList.add("loaded");let e=menu.clientHeight;clearTimeout(menu_adjustment_timout),menu.classList.contains("shown")?menu_adjustment_timout=setTimeout(()=>{main.style.marginBottom=main_bottom_margin+"px"},300):main.style.marginBottom=main_bottom_margin+e+"px",void 0!==tasks_block&&(tasks_block.style.transform="translateY("+(menu.classList.contains("shown")?0:e)+"px)"),void 0!==marks_block&&(marks_block.style.transform="translateY("+(menu.classList.contains("shown")?0:e)+"px)"),void 0!==timetable_block&&(timetable_block.style.transform="translateY("+(menu.classList.contains("shown")?0:e)+"px)"),void 0!==announcements_block&&(announcements_block.style.transform="translateY("+(menu.classList.contains("shown")?0:e)+"px)"),menu.classList.toggle("shown"),menu_button.classList.toggle("active",menu.classList.contains("shown"))}),Event.add(logout_button,"click",()=>{html.classList.add("loaded"),body.style.cursor="wait",ajax("POST","/src/logout.php",{},e=>{"success"==e.responseText?window.location="/login/":(body.style.cursor="",alert("Error"),alert(e.responseText))},e=>{body.style.cursor="",alert("Error"),alert(e.responseText)})});for(let e of message_alerts)void 0!==e.getElementsByClassName("cross-icon")&&Event.add(e.getElementsByClassName("cross-icon")[0],"click",()=>{html.classList.add("loaded"),body.style.cursor="wait",ajax("POST","/src/message_alert_close.php",{name:e.id.slice(14)},t=>{body.style.cursor="","success"==t.responseText?(e.classList.add("hidden"),setTimeout(()=>{e.remove()},650)):(alert("Error"),alert(t.responseText))},e=>{body.style.cursor="",alert("Error"),alert(e.responseText)})});Event.add(dark_mode_button,"mousedown",()=>{html.classList.add("loaded"),body.style.cursor="wait",ajax("POST","/src/toggle_dark_mode.php",{},e=>{body.style.cursor="","1"==e.responseText?html.classList.add("dark"):"0"==e.responseText?html.classList.remove("dark"):(alert("Error"),alert(e.responseText))},e=>{body.style.cursor="",alert("Error"),alert(e.responseText)})})});